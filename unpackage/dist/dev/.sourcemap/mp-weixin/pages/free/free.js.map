{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/project/20190915/locker/main.js","webpack:///C:/Users/Administrator/Desktop/project/20190915/locker/pages/free/free.vue?5bd2","webpack:///C:/Users/Administrator/Desktop/project/20190915/locker/pages/free/free.vue?110a","webpack:///C:/Users/Administrator/Desktop/project/20190915/locker/pages/free/free.vue?513a","webpack:///C:/Users/Administrator/Desktop/project/20190915/locker/pages/free/free.vue?92de","webpack:///C:/Users/Administrator/Desktop/project/20190915/locker/pages/free/free.vue","webpack:///C:/Users/Administrator/Desktop/project/20190915/locker/pages/free/free.vue?5fa9","webpack:///C:/Users/Administrator/Desktop/project/20190915/locker/pages/free/free.vue?82ca"],"names":["createPage","Page","components","uniIcon","data","caseNo","height","bagText","couponList","onLoad","options","id","checkLogin","uni","showLoading","mask","getSystemInfoSync","windowHeight","getData","methods","go","url","navigateTo","request","apiServer","method","cabinetNo","header","getStorageSync","success","res","status","i","length","merchantIoc","showToast","title","icon","duration","msg","fail","setTimeout","navigateBack","complete","hideLoading","priceOrder","cost","parseFloat","cashCouponMoney","totalFee","payOrder","item","requestPayment","provider","timeStamp","nonceStr","package","signType","paySign","errMsg","buyCoupon","err","fkMerchantCashCouponNo","cashCouponNo"],"mappings":"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","file":"pages/free/free.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/free/free.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./free.vue?vue&type=template&id=7559beed&scoped=true&\"\nimport script from \"./free.vue?vue&type=script&lang=js&\"\nexport * from \"./free.vue?vue&type=script&lang=js&\"\nimport style0 from \"./free.vue?vue&type=style&index=0&id=7559beed&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7559beed\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7559beed', component.options)\n    } else {\n      api.reload('7559beed', component.options)\n    }\n    module.hot.accept(\"./free.vue?vue&type=template&id=7559beed&scoped=true&\", function () {\n      api.rerender('7559beed', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/project/20190915/locker/pages/free/free.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./free.vue?vue&type=template&id=7559beed&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./free.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./free.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport uniIcon from \"@/components/uni-icon/uni-icon.vue\"\r\nexport default {\r\n\tcomponents: {\r\n\t\tuniIcon\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcaseNo:\"\",\r\n\t\t\theight: 0,\r\n\t\t\tbagText:\"如您选购如下任一款消费卷，即可享受当天一次性免费存包，欢迎您选购！\",\r\n\t\t\tcouponList:[],\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\tthis.caseNo = options.id;\r\n\t\tthis.checkLogin();\r\n\t\tuni.showLoading({mask:true});\r\n\t\tthis.height = uni.getSystemInfoSync().windowHeight;\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\tgo(url){\r\n\t\t\tuni.navigateTo({url: url});\r\n\t\t},\r\n\t\tgetData(){\r\n\t\t\tuni.request({\r\n\t\t\t\turl: this.apiServer + 'couponForCabinet/getCouponForCabinetMap',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcabinetNo:this.caseNo\r\n\t\t\t\t},\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t'token': uni.getStorageSync('opid')\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif(res.data.status == 200){\r\n\t\t\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t\t\tfor(let i=0;i<data.length;i++){\r\n\t\t\t\t\t\t\tif(!data[i].merchantIoc){\r\n\t\t\t\t\t\t\t\tdata[i].merchantIoc = '../../static/index/u207.png'\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.couponList = data;\r\n\t\t\t\t\t}else if(res.data.status == 588){\r\n\t\t\t\t\t\tthis.checkLogin();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '登录失效，请再试一次',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: (res) => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack({url: '../index/index'});\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tpriceOrder(data){\r\n\t\t\tlet cost = parseFloat(data.cashCouponMoney)*100;\r\n\t\t\tuni.request({\r\n\t\t\t\turl: this.apiServer + 'weChatOperation/unifiedOrder',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\ttotalFee: 1\r\n\t\t\t\t},\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t'token': uni.getStorageSync('opid')\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif(res.data.status == 200){\r\n\t\t\t\t\t\tthis.payOrder(res.data.data,data);\r\n\t\t\t\t\t}else if(res.data.status == 588){\r\n\t\t\t\t\t\tthis.checkLogin();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '登录失效，请再试一次',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: (res) => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack({url: '../index/index'});\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tpayOrder(data,item){\r\n\t\t\tuni.requestPayment({\r\n\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\ttimeStamp: data.timeStamp,\r\n\t\t\t\tnonceStr: data.nonceStr,\r\n\t\t\t\tpackage: data.package,\r\n\t\t\t\tsignType: data.signType,\r\n\t\t\t\tpaySign: data.paySign,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif(res.errMsg == 'requestPayment:ok'){\r\n\t\t\t\t\t\tthis.buyCoupon(item);\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\t\t\t\tfail: (err) => {\r\n\t\t\t\t\tif(err.errMsg == 'requestPayment:fail cancel'){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '已取消支付',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '支付失败',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tbuyCoupon(data){\r\n\t\t\tuni.request({\r\n\t\t\t\turl: this.apiServer + 'merchantCashCoupon/purchaseCoupons',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tfkMerchantCashCouponNo:data.cashCouponNo,\r\n\t\t\t\t\tcabinetNo:this.caseNo\r\n\t\t\t\t},\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t'token': uni.getStorageSync('opid')\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif(res.data.status == 200){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '购买成功，请去选择柜子类型',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack({url: '../storage/storage'});\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t}else if(res.data.status == 588){\r\n\t\t\t\t\t\tthis.checkLogin();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '登录失效，请再试一次',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: (res) => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络异常',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack({url: '../index/index'});\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./free.vue?vue&type=style&index=0&id=7559beed&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./free.vue?vue&type=style&index=0&id=7559beed&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}